(function(e, b) {
    var h = window.document,
        a = h.documentElement,
        c = e.fn.show,
        i = e.fn.hide,
        g = e.fn.toggle;

    function d(l, m, j, n, o) {
        if (typeof m == "function" && !o) {
            o = m,
                m = b
        }
        var k = {
            opacity: j
        };
        if (n) {
            k.scale = n;
            l.css(e.fx.cssPrefix + "transform-origin", "0 0")
        }
        return l.animate(k, m, null, o)
    }

    function f(j, k, l, m) {
        return d(j, k, 0, l, function() {
            i.call(e(this));
            m && m.call(this)
        })
    }
    e.fn.fadeIn = function(j, k) {
        c.call(this);
        if (j === b) {
            j = 0
        } else {
            this.css("opacity", 0)
        }
        return d(this, j, 1, "1,1", k)
    };
    e.fn.fadeOut = function(j, k) {
        if (j === b) {
            return i.call(this)
        } else {
            return f(this, j, "0,0", k)
        }
    }
})($);
var egou = egou || {};
egou.popup = egou.popup || {};
egou.popup.open = function(d, a) {
    var c = this.createBackground(a);
    var f = $(window);
    var e = $(document);
    var b = typeof d == "string" ? $(d) : d;
    b.fadeIn("slow");
    b.css("top", (f.height() - b.height()) / 2);
    b.css("left", (f.width() - b.width()) / 2);
    this.curCard = b;
    f.resize(function() {
        b.css({
            left: (f.width() / 2 - b.width() / 2) + "px",
            top: (f.height() / 2 - b.height() / 2) + "px"
        });
        c.css({
            width: e.width() + "px",
            height: e.height() + "px"
        })
    })
};
egou.popup.close = function(c, a) {
    var b = c ? $(c) : this.curCard;
    if (b) {
        b.hide();
        this.removeBackground()
    }
    if (!a) {
        location.reload()
    }
};
egou.popup.createBackground = function(c) {
    var d = $(document);
    $("body").append("<div id='_background'></div>");
    var a = $("#_background");
    a.css("top", "0");
    a.css("position", "fixed");
    a.css("left", "0");
    a.css("background", "black");
    a.css("z-index", "99");
    a.css("width", d.width() + "px");
    a.css("height", d.height() + "px");
    a.css("opacity", "0.5");
    a.css("filter", "alpha(opacity=60)");
    if (c) {
        a.css(c)
    }
    return a
};
egou.popup.removeBackground = function() {
    $("#_background").remove()
};